<!-- templates/users/components/password_change_form.html -->
<form
	hx-post="{% url 'users:password_change' %}"
	hx-target="#error-message"
	class="bg-white rounded-lg shadow-lg p-4 w-full"
	hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}'
>
	<div class="w-full mb-4">
		<label for="old_password" class="block text-sm mb-2">目前密碼</label>
		<input
			type="password"
			id="old_password"
			name="old_password"
			class="w-full border rounded px-3 py-2"
		/>
		<div id="error-message">
			{% if error.code == 0 %}
			<p class="text-red-500 text-sm mt-1">{{ error.message }}</p>
			{% endif %}
		</div>
	</div>

	<div class="w-full mb-4">
		<label for="new_password1" class="block text-sm mb-2">新密碼</label>
		<input
			type="password"
			id="new_password1"
			name="new_password1"
			class="w-full border rounded px-3 py-2"
		/>
		<div id="error-message">
			{% if error.code == 1 %}
			<p class="text-red-500 text-sm mt-1">{{ error.message }}</p>
			{% endif %}
		</div>
	</div>

	<div class="w-full mb-4">
		<label for="new_password2" class="block text-sm mb-2">確認新密碼</label>
		<input
			type="password"
			id="new_password2"
			name="new_password2"
			class="w-full border rounded px-3 py-2"
		/>
	</div>

	<div class="flex justify-end gap-2">
		<button
			type="submit"
			class="bg-yellow-400 text-white px-4 py-2 rounded hover:bg-yellow-500"
		>
			確認變更
		</button>
	</div>
</form>
