{% block content %}
<div class="relative max-w-7xl mt-8 mx-auto">
	<div class="grid grid-cols-3 gap-4 p-6 bg-yellow-300 rounded-[24px]">
		<!-- 左側個人資料 -->
		<div class="space-y-4">
			<div class="bg-white p-4 rounded-[24px] shadow-lg">
				<div
					class="w-full h-48 bg-gray-200 rounded-[24px] flex items-center justify-center"
				>
					<span class="text-gray-500">請上傳照片</span>
				</div>
			</div>
			<div class="bg-white p-4 rounded-[24px] shadow-lg">
				<div class="text-center space-y-2">
					<p>{{userinfo}}</p>
					<p>興趣 #</p>
				</div>
			</div>
		</div>

		<!-- 中間聚會資訊 -->
		<div class="bg-white p-4 rounded-[24px] shadow-lg">
			<p class="text-gray-500 font-medium text-2xl text-center mb-4">
				最近參加的聚會
			</p>
			{% if meetup %}
			<div
				class="w-full h-48 bg-gray-200 rounded-[24px] flex items-center justify-center mb-4"
			>
				{% if meetup.photo %}
				<img
					src="{{ meetup.photo.url }}"
					alt="{{ meetup.title }}"
					class="w-full h-full object-cover rounded-[24px]"
				/>
				{% else %}
				<span class="text-gray-500">尚無聚會</span>
				{% endif %}
			</div>
			<div class="text-center space-y-2">
				<p class="text-gray-700 font-semibold">{{ meetup.title }}</p>
				<p class="text-gray-500">
					時間：{{ meetup.start_time|date:"Y/m/d H:i" }}
				</p>
				<p class="text-gray-500">地點：{{ meetup.address }}</p>
				<p class="text-gray-500">持續時間：{{ meetup.duration }}小時</p>
				{% with current_participants=meetup.participants.count %}
				<p class="text-gray-500">
					參加人數：{{ current_participants }}/{{ meetup.max_participants }}
				</p>
				{% endwith %}
			</div>
			{% else %}
			<div class="text-center text-gray-500">
				<p>目前沒有參加的聚會</p>
			</div>
			{% endif %}
		</div>

		<!-- 右側資訊 -->
		<div class="space-y-4">
			<div class="bg-white p-4 rounded-[24px] shadow-lg text-center">
				<h3 class="text-gray-700 mb-2 text-xl">我的錢包</h3>
				<div
					class="w-56 h-24 mx-auto bg-yellow-400 rounded-full flex items-center justify-center gap-4"
				>
				<span class="text-white text-lg">剩餘</span>
				<span class="text-white text-7xl">{{ wallet_balance }}</span>
				<span class="text-white text-lg">元</span>
				</div>
				<a href="{% url 'cashflows:index' %}">
				<button
					class="mt-4 bg-yellow-400 text-white text-xl px-8 py-2 rounded-full"
				>
					加值
				</button>
				</a>
			</div>

			<div class="bg-white p-3 rounded-[24px] shadow-lg text-center">
				<h3 class="text-yellow-500 font-bold">日曆</h3>
				<div
					style="
						position: relative;
						width: 100%;
						height: 0;
						padding-bottom: 100%;
						overflow: hidden;
						border: 1px solid #e2e8f0;
						border-radius: 8px;
					"
				>
					<iframe
						src="https://calendar.google.com/calendar/embed?src=YOUR_CALENDAR_ID&ctz=YOUR_TIMEZONE&mode=MONTH&showTitle=0&showPrint=0&showTabs=0&showCalendars=0&showDate=1"
						style="
							position: absolute;
							top: 0;
							left: 0;
							width: 100%;
							height: 100%;
							border: 0;
						"
						frameborder="0"
						scrolling="no"
					>
					</iframe>
				</div>
			</div>
		</div>
	</div>
</div>
{% endblock %}
